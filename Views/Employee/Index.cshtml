@model List<EmployeeManagementSystem.Models.TblEmployee>

@{ ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml"; }

 
<link href="~/Content/dataTables.min.css" rel="stylesheet" />
<link href="~/Content/DataTables/css/dataTables.bootstrap4.css" rel="stylesheet" />
<script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-2.2.4/jszip-3.1.3/pdfmake-0.1.27/dt-1.10.15/b-1.3.1/b-colvis-1.3.1/b-flash-1.3.1/b-html5-1.3.1/b-print-1.3.1/r-2.1.1/sc-1.4.2/se-1.2.2/datatables.min.js"></script>


<br />
<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <table id="listAll" class="table border rounded table-bordered border-primary gy-5 gs-7">
        <thead>
            <tr>
                <th>#</th>
                <th>Name Surname</th>
                <th>Salary</th>
                <th>Department</th>
                <th>Job Position</th>
                <th>Birthday</th>
                <th>Address</th>
                <th>Gender</th>
                <th>Edit</th>
                <th>Delete</th>

            </tr>
        </thead>

        @foreach (var item in Model)
        {
            <tr>
                <th>@item.IDEmployee</th>
                <td>@item.FirstName  @item.MiddleName @item.LastName</td>
                <td>@item.Salary</td>
                <td>@item.TblDepartment.DepartmentName</td>
                <td>@item.TblJobPosition.JobPosition</td>
                <td>@item.Birthday</td>
                <td>@item.Address</td>
                <td>@item.Gender</td>
                <td>
                    <a class="btn btn-success btn-sm" href="/Employee/EditEmployee/@item.IDEmployee">
                        <i class="fas fa-trash">
                        </i>
                        Edit
                    </a>
                </td>
                <td><a class="btn btn-danger btn-sm" href="/Employee/DeleteEmployee/@item.IDEmployee">
                            <i class="fas fa-trash">
                            </i>
                            Delete
                        </a></td>

            </tr>

        }

    </table>
</body>
</html>

<a href="/Employee/AddEmployee" class="btn btn-primary">Add Employee</a>
<script>
    $("#listAll").DataTable({

    });

    function timedRefresh(timeoutPeriod) {
        setTimeout("location.reload(true);", timeoutPeriod);
    }


    window.onload = timedRefresh(100000);


</script> 